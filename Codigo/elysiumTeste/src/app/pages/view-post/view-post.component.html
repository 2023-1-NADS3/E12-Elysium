<section class="vh-100" style="background-color: #0d0e1b;">
<br><br><br>
<div class="list-group" *ngIf="currentPost">
    <p><a href="profile/?id={{currentPost.UserId}}">Autor: {{ currentPost.usernames }}</a></p>
    <p>Titulo: {{ currentPost.title }}</p>
    <p>Conteudo: {{ currentPost.content }}</p>
    <button (click)="isLoggedIn ? likePost() : redirectToLogin()">Likes: {{ currentPost.likes }}</button>

    <div *ngIf="isLoggedIn && currentPost.UserId  == UserId">
    <button (click)="deletePost(currentPost.UserId)">Apagar Post</button>
</div>

<div *ngIf="isLoggedIn && currentPost.UserId  == UserId">    
    <div class="form-group">
        <label for="title">Titulo</label>
        <input type="text" class="form-control" id="title" required [(ngModel)]="currentPost.title" name="title" />
        
    </div>
    
    <div class="form-group">
        <label for="desc">Descrição</label>
        <input class="form-control" id="desc" required [(ngModel)]="currentPost.desc" name="desc">

    </div>
    
    <div class="form-group">
        <label for="content">Conteudo</label><br>
        <textarea class="form-control" rows="3" id="content" placeholder="Digite seu texto aqui..." required
            [(ngModel)]="currentPost.content" name="content"></textarea>
    </div> 
    <div class="error-message" *ngIf="!currentPost.title || !currentPost.desc || !currentPost.content">{{erroM}}</div>
    <button (click)="updatePost()">Editar</button>
    
</div>
</div>

<div class="submit-form">
<label for="coments">Deixe seu comentario</label>
<textarea name="coments" id="coments" cols="40" rows="3" placeholder="Digite seu comentario..." [(ngModel)]="comentario"></textarea>
<div class="error-message" *ngIf="!comentario">{{erroM}}</div>
<button (click)="isLoggedIn ? saveComent() : redirectToLogin()">Comentar</button>

<br>

</div>

<hr><br>
<div *ngFor="let coments of coments">
    <p>User: {{ coments.user.username}}</p>
    <p>Comment: {{ coments.coment }}</p>
    <button (click)="isLoggedIn ? likeComent(coments.id, coments.like) : redirectToLogin()">like {{ coments.like }}</button>
    
    <div *ngIf="isLoggedIn && coments.user.id  == UserId">
    <button (click)="deleteComent(coments.id)">Deletar</button>
    <div>
        <label for="comenta">Atualize o seu comentario</label>
        <input name="comenta" id="comenta" cols="30" rows="10" [(ngModel)]="comenta"/>
        <div class="error-message"  *ngIf="!comenta">{{erroM}}</div>
        <button (click)="updateComent(coments.id)">Atualizar</button>
        
    </div>
    </div>
</div>



</section>